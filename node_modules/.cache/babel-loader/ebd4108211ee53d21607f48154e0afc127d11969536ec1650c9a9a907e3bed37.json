{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from \"./router\";\nimport { APIService } from \"./http/APIService\";\nconst apiService = new APIService();\nexport default {\n  name: 'App',\n  props: {\n    msg: String\n  },\n  data: () => ({\n    authenticated: false,\n    dialog: false,\n    uName: \"Guest\",\n    menu: []\n  }),\n  mounted() {\n    this.fillMenu();\n    apiService.getMovieList().then(response => {\n      this.authenticated = true;\n    }).catch(error => {\n      if (error.response.status === 401) {\n        localStorage.removeItem(\"isAuthenticates\");\n        localStorage.removeItem(\"log_user\");\n        localStorage.removeItem(\"token\");\n        this.authenticated = false;\n      }\n    });\n    console.log(\"this.authenticated--\" + this.authenticated);\n  },\n  methods: {\n    fillMenu() {\n      if (localStorage.getItem(\"isAuthenticates\") && JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true) {\n        console.log(\"IS AUTH\");\n        this.uName = JSON.parse(localStorage.getItem(\"log_user\"));\n      } else {\n        console.log(\"IS NOT AUTH\");\n      }\n      this.menu = [{\n        title: \"Movies\",\n        url: \"/movie-list\"\n      }];\n    },\n    getUser() {\n      if (localStorage.getItem(\"isAuthenticates\") && JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true) {\n        console.log(\"IS AUTH\");\n        this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n      } else {\n        console.log(\"IS NOT AUTH\");\n      }\n    },\n    logout() {\n      localStorage.removeItem(\"isAuthenticates\");\n      localStorage.removeItem(\"log_user\");\n      localStorage.removeItem(\"token\");\n      this.authenticated = false;\n      // router.push('/');\n      window.location = \"/\";\n    },\n    home() {\n      window.location = \"/\";\n    },\n    register() {\n      router.push(\"/register\");\n    },\n    login() {\n      router.push(\"/auth\");\n    }\n  }\n};","map":{"version":3,"names":["router","APIService","apiService","name","props","msg","String","data","authenticated","dialog","uName","menu","mounted","fillMenu","getMovieList","then","response","catch","error","status","localStorage","removeItem","console","log","methods","getItem","JSON","parse","title","url","getUser","validUserName","logout","window","location","home","register","push","login"],"sources":["C:\\Users\\Gabriel\\Desktop\\Travel-Agency-Final\\Assign2FrontEnd\\src\\App.vue"],"sourcesContent":["<template>\r\n <ul class=\"nav justify-content-center\">\r\n <li class=\"nav-item active\">\r\n <router-link to=\"/\">Home</router-link> |\r\n </li>\r\n <li class=\"nav-item\">\r\n <router-link :to=\"{name: 'MovieList'}\">Movies</router-link>\r\n </li>\r\n <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"login\" >\r\n | <router-link :to=\"{name: 'Auth'}\">Log in</router-link>\r\n </li>\r\n <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"register\" >\r\n | <router-link :to=\"{name: 'Register'}\">Register</router-link>\r\n </li>\r\n <li class=\"nav-item .justify-content-end\" v-if=\"authenticated\" @click=\"logout\" >\r\n | <router-link :to=\"{name: 'Auth'}\">Logout</router-link>\r\n </li>\r\n</ul>\r\n <router-view/>\r\n</template>\r\n<script>\r\nimport router from \"./router\";\r\nimport { APIService } from \"./http/APIService\";\r\nconst apiService = new APIService();\r\nexport default {\r\n name: 'App',\r\n props: {\r\n msg: String\r\n },\r\n data: () => ({\r\n authenticated: false,\r\n dialog: false,\r\n uName: \"Guest\",\r\n menu: [],\r\n }),\r\n mounted() {\r\n this.fillMenu();\r\n apiService\r\n .getMovieList()\r\n .then((response) => {\r\n this.authenticated = true;\r\n })\r\n .catch((error) => {\r\n if (error.response.status === 401) {\r\n localStorage.removeItem(\"isAuthenticates\");\r\n localStorage.removeItem(\"log_user\");\r\n localStorage.removeItem(\"token\");\r\n this.authenticated = false;\r\n }\r\n });\r\n console.log(\"this.authenticated--\" + this.authenticated);\r\n },\r\n methods: {\r\n fillMenu() {\r\n if (\r\n localStorage.getItem(\"isAuthenticates\") &&\r\n JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true\r\n ) {\r\n console.log(\"IS AUTH\");\r\n this.uName = JSON.parse(localStorage.getItem(\"log_user\"));\r\n } else {\r\n console.log(\"IS NOT AUTH\");\r\n }\r\n this.menu = [{ title: \"Movies\", url: \"/movie-list\" }];\r\n },\r\n getUser() {\r\n if (\r\n localStorage.getItem(\"isAuthenticates\") &&\r\n JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true\r\n ) {\r\n console.log(\"IS AUTH\");\r\n this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\r\n } else {\r\n console.log(\"IS NOT AUTH\");\r\n }\r\n },\r\n logout() {\r\n localStorage.removeItem(\"isAuthenticates\");\r\n localStorage.removeItem(\"log_user\");\r\n localStorage.removeItem(\"token\");\r\n this.authenticated = false;\r\n // router.push('/');\r\n window.location = \"/\";\r\n },\r\n home() {\r\n window.location = \"/\";\r\n },\r\n register() {\r\n router.push(\"/register\");\r\n },\r\n login() {\r\n router.push(\"/auth\");\r\n },\r\n },\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n#app {\r\n font-family: Avenir, Helvetica, Arial, sans-serif;\r\n -webkit-font-smoothing: antialiased;\r\n -moz-osx-font-smoothing: grayscale;\r\n text-align: center;\r\n color: #2c3e50;\r\n}\r\n#nav {\r\n padding: 30px;\r\n background-color: cadetblue;\r\n a {\r\n font-weight: bold;\r\n color: #2c3e50;\r\n &.router-link-exact-active {\r\n color: #42b983;\r\n }\r\n }\r\n}\r\n.nav {\r\n padding: 1em;\r\n background-color: cadetblue;\r\n li {\r\n font-weight: bold;\r\n color: #2c3e50;\r\n }\r\n a {\r\n color: black;\r\n padding: .5em;\r\n &.router-link-exact-active {\r\n color: #42b983;\r\n }\r\n }\r\n}\r\n</style>"],"mappings":";AAqBA,OAAOA,MAAK,MAAO,UAAU;AAC7B,SAASC,UAAS,QAAS,mBAAmB;AAC9C,MAAMC,UAAS,GAAI,IAAID,UAAU,EAAE;AACnC,eAAe;EACdE,IAAI,EAAE,KAAK;EACXC,KAAK,EAAE;IACPC,GAAG,EAAEC;EACL,CAAC;EACDC,IAAI,EAAEA,CAAA,MAAO;IACbC,aAAa,EAAE,KAAK;IACpBC,MAAM,EAAE,KAAK;IACbC,KAAK,EAAE,OAAO;IACdC,IAAI,EAAE;EACN,CAAC,CAAC;EACFC,OAAOA,CAAA,EAAG;IACV,IAAI,CAACC,QAAQ,EAAE;IACfX,UAAS,CACRY,YAAY,EAAC,CACbC,IAAI,CAAEC,QAAQ,IAAK;MACpB,IAAI,CAACR,aAAY,GAAI,IAAI;IACzB,CAAC,EACAS,KAAK,CAAEC,KAAK,IAAK;MAClB,IAAIA,KAAK,CAACF,QAAQ,CAACG,MAAK,KAAM,GAAG,EAAE;QACnCC,YAAY,CAACC,UAAU,CAAC,iBAAiB,CAAC;QAC1CD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;QACnCD,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;QAChC,IAAI,CAACb,aAAY,GAAI,KAAK;MAC1B;IACA,CAAC,CAAC;IACFc,OAAO,CAACC,GAAG,CAAC,sBAAqB,GAAI,IAAI,CAACf,aAAa,CAAC;EACxD,CAAC;EACDgB,OAAO,EAAE;IACTX,QAAQA,CAAA,EAAG;MACX,IACAO,YAAY,CAACK,OAAO,CAAC,iBAAiB,KACtCC,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,iBAAiB,CAAC,MAAM,IAAG,EACzD;QACFH,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QACtB,IAAI,CAACb,KAAI,GAAIgB,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,UAAU,CAAC,CAAC;MACzD,OAAO;QACPH,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAC1B;MACA,IAAI,CAACZ,IAAG,GAAI,CAAC;QAAEiB,KAAK,EAAE,QAAQ;QAAEC,GAAG,EAAE;MAAc,CAAC,CAAC;IACrD,CAAC;IACDC,OAAOA,CAAA,EAAG;MACV,IACAV,YAAY,CAACK,OAAO,CAAC,iBAAiB,KACtCC,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,iBAAiB,CAAC,MAAM,IAAG,EACzD;QACFH,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QACtB,IAAI,CAACQ,aAAY,GAAIL,IAAI,CAACC,KAAK,CAACP,YAAY,CAACK,OAAO,CAAC,UAAU,CAAC,CAAC;MACjE,OAAO;QACPH,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAC1B;IACA,CAAC;IACDS,MAAMA,CAAA,EAAG;MACTZ,YAAY,CAACC,UAAU,CAAC,iBAAiB,CAAC;MAC1CD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;MACnCD,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;MAChC,IAAI,CAACb,aAAY,GAAI,KAAK;MAC1B;MACAyB,MAAM,CAACC,QAAO,GAAI,GAAG;IACrB,CAAC;IACDC,IAAIA,CAAA,EAAG;MACPF,MAAM,CAACC,QAAO,GAAI,GAAG;IACrB,CAAC;IACDE,QAAQA,CAAA,EAAG;MACXpC,MAAM,CAACqC,IAAI,CAAC,WAAW,CAAC;IACxB,CAAC;IACDC,KAAKA,CAAA,EAAG;MACRtC,MAAM,CAACqC,IAAI,CAAC,OAAO,CAAC;IACpB;EACA;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}