{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"nav justify-content-center\"\n};\nconst _hoisted_2 = {\n  class: \"nav-item active\"\n};\nconst _hoisted_3 = {\n  class: \"nav-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"ul\", _hoisted_1, [_createElementVNode(\"li\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Home\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")]), _createElementVNode(\"li\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: {\n      name: 'MovieList'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Movies\")]),\n    _: 1 /* STABLE */\n  })]), !_ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 0,\n    class: \"nav-item\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.login && $options.login(...args))\n  }, [_createTextVNode(\" | \"), _createVNode(_component_router_link, {\n    to: {\n      name: 'Auth'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Log in\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), !_ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 1,\n    class: \"nav-item\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.register && $options.register(...args))\n  }, [_createTextVNode(\" | \"), _createVNode(_component_router_link, {\n    to: {\n      name: 'Register'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Register\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 2,\n    class: \"nav-item .justify-content-end\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.logout && $options.logout(...args))\n  }, [_createTextVNode(\" | \"), _createVNode(_component_router_link, {\n    to: {\n      name: 'Auth'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Logout\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_router_view)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","_hoisted_3","name","_ctx","authenticated","_createElementBlock","onClick","_cache","args","$options","login","register","logout","_component_router_view"],"sources":["C:\\Users\\Gabriel\\Desktop\\Travel-Agency-Final\\Assign2FrontEnd\\src\\App.vue"],"sourcesContent":["<template>\r\n <ul class=\"nav justify-content-center\">\r\n <li class=\"nav-item active\">\r\n <router-link to=\"/\">Home</router-link> |\r\n </li>\r\n <li class=\"nav-item\">\r\n <router-link :to=\"{name: 'MovieList'}\">Movies</router-link>\r\n </li>\r\n <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"login\" >\r\n | <router-link :to=\"{name: 'Auth'}\">Log in</router-link>\r\n </li>\r\n <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"register\" >\r\n | <router-link :to=\"{name: 'Register'}\">Register</router-link>\r\n </li>\r\n <li class=\"nav-item .justify-content-end\" v-if=\"authenticated\" @click=\"logout\" >\r\n | <router-link :to=\"{name: 'Auth'}\">Logout</router-link>\r\n </li>\r\n</ul>\r\n <router-view/>\r\n</template>\r\n<script>\r\nimport router from \"./router\";\r\nimport { APIService } from \"./http/APIService\";\r\nconst apiService = new APIService();\r\nexport default {\r\n name: 'App',\r\n props: {\r\n msg: String\r\n },\r\n data: () => ({\r\n authenticated: false,\r\n dialog: false,\r\n uName: \"Guest\",\r\n menu: [],\r\n }),\r\n mounted() {\r\n this.fillMenu();\r\n apiService\r\n .getMovieList()\r\n .then((response) => {\r\n this.authenticated = true;\r\n })\r\n .catch((error) => {\r\n if (error.response.status === 401) {\r\n localStorage.removeItem(\"isAuthenticates\");\r\n localStorage.removeItem(\"log_user\");\r\n localStorage.removeItem(\"token\");\r\n this.authenticated = false;\r\n }\r\n });\r\n console.log(\"this.authenticated--\" + this.authenticated);\r\n },\r\n methods: {\r\n fillMenu() {\r\n if (\r\n localStorage.getItem(\"isAuthenticates\") &&\r\n JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true\r\n ) {\r\n console.log(\"IS AUTH\");\r\n this.uName = JSON.parse(localStorage.getItem(\"log_user\"));\r\n } else {\r\n console.log(\"IS NOT AUTH\");\r\n }\r\n this.menu = [{ title: \"Movies\", url: \"/movie-list\" }];\r\n },\r\n getUser() {\r\n if (\r\n localStorage.getItem(\"isAuthenticates\") &&\r\n JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true\r\n ) {\r\n console.log(\"IS AUTH\");\r\n this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\r\n } else {\r\n console.log(\"IS NOT AUTH\");\r\n }\r\n },\r\n logout() {\r\n localStorage.removeItem(\"isAuthenticates\");\r\n localStorage.removeItem(\"log_user\");\r\n localStorage.removeItem(\"token\");\r\n this.authenticated = false;\r\n // router.push('/');\r\n window.location = \"/\";\r\n },\r\n home() {\r\n window.location = \"/\";\r\n },\r\n register() {\r\n router.push(\"/register\");\r\n },\r\n login() {\r\n router.push(\"/auth\");\r\n },\r\n },\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n#app {\r\n font-family: Avenir, Helvetica, Arial, sans-serif;\r\n -webkit-font-smoothing: antialiased;\r\n -moz-osx-font-smoothing: grayscale;\r\n text-align: center;\r\n color: #2c3e50;\r\n}\r\n#nav {\r\n padding: 30px;\r\n background-color: cadetblue;\r\n a {\r\n font-weight: bold;\r\n color: #2c3e50;\r\n &.router-link-exact-active {\r\n color: #42b983;\r\n }\r\n }\r\n}\r\n.nav {\r\n padding: 1em;\r\n background-color: cadetblue;\r\n li {\r\n font-weight: bold;\r\n color: #2c3e50;\r\n }\r\n a {\r\n color: black;\r\n padding: .5em;\r\n &.router-link-exact-active {\r\n color: #42b983;\r\n }\r\n }\r\n}\r\n</style>"],"mappings":";;EACKA,KAAK,EAAC;AAA4B;;EAClCA,KAAK,EAAC;AAAiB;;EAGvBA,KAAK,EAAC;AAAU;;;;6DAJpBC,mBAAA,CAgBI,MAhBJC,UAgBI,GAfJD,mBAAA,CAEK,MAFLE,UAEK,GADLC,YAAA,CAAsCC,sBAAA;IAAzBC,EAAE,EAAC;EAAG;sBAAC,MAAI,C,iBAAJ,MAAI,E;;uBAAc,KACtC,E,GACAL,mBAAA,CAEK,MAFLM,UAEK,GADLH,YAAA,CAA2DC,sBAAA;IAA7CC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAmB;sBAAE,MAAM,C,iBAAN,QAAM,E;;SAEjBC,IAAA,CAAAC,aAAa,I,cAAzCC,mBAAA,CAEK;;IAFDX,KAAK,EAAC,UAAU;IAAwBY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;uBAAG,KACzD,GAAAV,YAAA,CAAsDC,sBAAA;IAAxCC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAc;sBAAE,MAAM,C,iBAAN,QAAM,E;;8CAEdC,IAAA,CAAAC,aAAa,I,cAAzCC,mBAAA,CAEK;;IAFDX,KAAK,EAAC,UAAU;IAAwBY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAE,QAAA,IAAAF,QAAA,CAAAE,QAAA,IAAAH,IAAA,CAAQ;uBAAG,KAC5D,GAAAV,YAAA,CAA4DC,sBAAA;IAA9CC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAkB;sBAAE,MAAQ,C,iBAAR,UAAQ,E;;6CAEAC,IAAA,CAAAC,aAAa,I,cAA7DC,mBAAA,CAEK;;IAFDX,KAAK,EAAC,+BAA+B;IAAuBY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAG,MAAA,IAAAH,QAAA,CAAAG,MAAA,IAAAJ,IAAA,CAAM;uBAAG,KAC9E,GAAAV,YAAA,CAAsDC,sBAAA;IAAxCC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAc;sBAAE,MAAM,C,iBAAN,QAAM,E;;+CAG1CJ,YAAA,CAAce,sBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}