{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelDynamic as _vModelDynamic, withModifiers as _withModifiers, createTextVNode as _createTextVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"row align-items-center justify-content-center\"\n};\nconst _hoisted_3 = {\n  class: \"col-12 col-sm-6 col-md-4 col-lg-4\"\n};\nconst _hoisted_4 = {\n  class: \"card mx-auto shadow\"\n};\nconst _hoisted_5 = {\n  class: \"card-body\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-title\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", null, \"Login\")], -1 /* HOISTED */);\nconst _hoisted_7 = {\n  key: 0,\n  \"close-icon\": \"mdi-close-circle\",\n  value: true,\n  class: \"alert alert-danger\",\n  role: \"alert\",\n  dense: \"\"\n};\nconst _hoisted_8 = {\n  class: \"card-text pt-2\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"row align-items-center justify-content-center\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"progress\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"progress-bar progress-bar-striped progress-bar-animated\",\n  role: \"progressbar\",\n  \"aria-valuenow\": \"75\",\n  \"aria-valuemin\": \"0\",\n  \"aria-valuemax\": \"100\",\n  style: {\n    \"width\": \"75%\"\n  }\n})], -1 /* HOISTED */);\nconst _hoisted_11 = [_hoisted_10];\nconst _hoisted_12 = {\n  class: \"col-md-10 mb-3\"\n};\nconst _hoisted_13 = {\n  class: \"input-group\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-prepend\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"input-group-text\"\n}, \"@\")], -1 /* HOISTED */);\nconst _hoisted_15 = [\"rules\"];\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-100\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-prepend\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"input-group-text\"\n}, \"***\")], -1 /* HOISTED */);\nconst _hoisted_18 = [\"type\", \"rules\", \"append-icon\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createTextVNode(\" ` \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _ctx.showMsg === 'error' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, \" Invalid username or password. Please Try again. \")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_8, [_ctx.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _hoisted_11)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.credentials.username = $event),\n    counter: 70,\n    label: \"Username\",\n    rules: _ctx.rules.username,\n    maxlength: \"70\",\n    required: \"\",\n    type: \"text\",\n    class: \"form-control mb-3\",\n    placeholder: \"Username\",\n    \"aria-describedby\": \"inputGroupPrepend2\"\n  }, null, 8 /* PROPS */, _hoisted_15), [[_vModelText, _ctx.credentials.username]]), _hoisted_16, _hoisted_17, _withDirectives(_createElementVNode(\"input\", {\n    type: _ctx.showPassword ? 'text' : 'Password',\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.credentials.password = $event),\n    label: \"Password\",\n    rules: _ctx.rules.password,\n    maxlength: \"20\",\n    required: \"\",\n    \"append-icon\": _ctx.showPassword ? 'mdi-eye' : 'mdi-eye-off',\n    \"onClick:append\": _cache[2] || (_cache[2] = $event => _ctx.showPassword = !_ctx.showPassword),\n    class: \"form-control\",\n    placeholder: \"Password\",\n    \"aria-describedby\": \"inputGroupPrepend2\"\n  }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_18), [[_vModelDynamic, _ctx.credentials.password]])])]), _createElementVNode(\"button\", {\n    ref: \"form\",\n    onClick: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"])),\n    class: \"btn btn-primary\"\n  }, \"Login\", 512 /* NEED_PATCH */)])])])])])]), _createTextVNode(\" ` \")], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","value","role","dense","style","_hoisted_10","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_ctx","showMsg","_createElementBlock","_hoisted_7","_hoisted_8","loading","_hoisted_9","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","credentials","username","$event","counter","label","rules","maxlength","required","type","placeholder","_hoisted_16","_hoisted_17","showPassword","password","_cache","ref","onClick","_withModifiers","args","$options","login"],"sources":["C:\\Users\\gabrielconner\\movie-fe\\src\\components\\Auth.vue"],"sourcesContent":["<template>\r\n `\r\n <div class=\"container\">\r\n <div class=\"row align-items-center justify-content-center\">\r\n <div class=\"col-12 col-sm-6 col-md-4 col-lg-4\">\r\n <div class=\"card mx-auto shadow\">\r\n <div class=\"card-body\">\r\n <div class=\"card-title\"><span>Login</span></div>\r\n <div\r\n v-if=\"showMsg === 'error'\"\r\n close-icon=\"mdi-close-circle\"\r\n :value=\"true\"\r\n class=\"alert alert-danger\"\r\n role=\"alert\"\r\n dense\r\n >\r\n Invalid username or password. Please Try again.\r\n </div>\r\n <div class=\"card-text pt-2\">\r\n <div\r\n class=\"row align-items-center justify-content-center\"\r\n v-if=\"loading\"\r\n >\r\n <div class=\"progress\">\r\n <div\r\n class=\"\r\n progress-bar progress-bar-striped progress-bar-animated\r\n \"\r\n role=\"progressbar\"\r\n aria-valuenow=\"75\"\r\n aria-valuemin=\"0\"\r\n aria-valuemax=\"100\"\r\n style=\"width: 75%\"\r\n ></div>\r\n </div>\r\n </div>\r\n\r\n <div class=\"col-md-10 mb-3\">\r\n <div class=\"input-group\">\r\n <div class=\"input-group-prepend\">\r\n <span class=\"input-group-text\">@</span>\r\n </div>\r\n <input\r\n\r\n v-model=\"credentials.username\"\r\n :counter=\"70\"\r\n label=\"Username\"\r\n :rules=\"rules.username\"\r\n maxlength=\"70\"\r\n required\r\n type=\"text\"\r\n class=\"form-control mb-3\"\r\n placeholder=\"Username\"\r\n aria-describedby=\"inputGroupPrepend2\"\r\n />\r\n <div class=\"w-100\"></div>\r\n <div class=\"input-group-prepend\">\r\n <span class=\"input-group-text\">***</span>\r\n </div>\r\n <input\r\n :type=\"showPassword ? 'text' : 'Password'\"\r\n v-model=\"credentials.password\"\r\n label=\"Password\"\r\n :rules=\"rules.password\"\r\n maxlength=\"20\"\r\n required\r\n :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n @click:append=\"showPassword = ! showPassword\"\r\n class=\"form-control\"\r\n placeholder=\"Password\"\r\n aria-describedby=\"inputGroupPrepend2\"\r\n />\r\n </div>\r\n </div>\r\n <button ref =\"form\" @click.prevent=\"login\" class=\"btn btn-primary\">Login</button>\r\n </div>\r\n </div>\r\n </div>\r\n </div>\r\n </div>\r\n </div>\r\n `\r\n</template>\r\n<script>\r\nimport router from \"../router\";\r\nimport { APIService } from \"../http/APIService\";\r\nconst apiService = new APIService();\r\nexport default {\r\n name: \"Auth\",\r\n data: () => ({\r\n credentials: {},\r\n valid: true,\r\n showMsg: \"\",\r\n loading: false,\r\n rules: {\r\n username: [\r\n (v) => !!v || \"Username is required\",\r\n (v) =>\r\n (v && v.length > 3) ||\r\n \"A username must be more than 3 characters long\",\r\n (v) =>\r\n /^[a-z0-9_]+$/.test(v) ||\r\n \"A username can only contain letters and digits\",\r\n ],\r\n password: [\r\n (v) => !!v || \"Password is required\",\r\n (v) =>\r\n (v && v.length > 7) ||\r\n \"The password must be longer than 7 characters\",\r\n ],\r\n },\r\n showPassword: false,\r\n }),\r\n methods: {\r\n login() {\r\n // checking if the input is valid\r\n console.log(\"IS THIS THING WORKING\")\r\n if (this.$refs.form) {\r\n this.loading = true;\r\n apiService\r\n .authenticateLogin(this.credentials)\r\n .then((res) => {\r\n localStorage.setItem(\"token\", res.data.token);\r\n localStorage.setItem(\"isAuthenticates\", JSON.stringify(true));\r\n localStorage.setItem(\r\n \"log_user\",\r\n JSON.stringify(this.credentials.username)\r\n );\r\n //router.push(\"/\");\r\n //router.go(-1);\r\n window.location = \"/\";\r\n })\r\n .catch((e) => {\r\n this.loading = false;\r\n localStorage.removeItem(\"isAuthenticates\");\r\n localStorage.removeItem(\"log_user\");\r\n localStorage.removeItem(\"token\");\r\n // router.go(-1);\r\n this.showMsg = \"error\";\r\n });\r\n }\r\n },\r\n testMethod() {\r\n console.log(this.$refs.form);\r\n console.log(\"hey\");\r\n },\r\n },\r\n};\r\n</script>\r\n<style>\r\ninput {\r\n padding: 1rem;\r\n}\r\nform {\r\n display: flex;\r\n justify-content: center;\r\n flex-direction: vertical;\r\n}\r\n</style>"],"mappings":";;EAEMA,KAAK,EAAC;AAAW;;EACjBA,KAAK,EAAC;AAA+C;;EACrDA,KAAK,EAAC;AAAmC;;EACzCA,KAAK,EAAC;AAAqB;;EAC3BA,KAAK,EAAC;AAAW;gCACtBC,mBAAA,CAAgD;EAA3CD,KAAK,EAAC;AAAY,I,aAACC,mBAAA,CAAkB,cAAZ,OAAK,E;;;EAGnC,YAAU,EAAC,kBAAkB;EAC5BC,KAAK,EAAE,IAAI;EACZF,KAAK,EAAC,oBAAoB;EAC1BG,IAAI,EAAC,OAAO;EACZC,KAAK,EAAL;;;EAIKJ,KAAK,EAAC;AAAgB;;;EAE3BA,KAAK,EAAC;;iCAGNC,mBAAA,CAWM;EAXDD,KAAK,EAAC;AAAU,I,aACrBC,mBAAA,CASO;EARPD,KAAK,EAAC,yDAEL;EACDG,IAAI,EAAC,aAAa;EAClB,eAAa,EAAC,IAAI;EAClB,eAAa,EAAC,GAAG;EACjB,eAAa,EAAC,KAAK;EACnBE,KAAkB,EAAlB;IAAA;EAAA;;qBATAC,WAWM,C;;EAGDN,KAAK,EAAC;AAAgB;;EACtBA,KAAK,EAAC;AAAa;iCACxBC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAqB,I,aAChCC,mBAAA,CAAuC;EAAjCD,KAAK,EAAC;AAAkB,GAAC,GAAC,E;;iCAehCC,mBAAA,CAAyB;EAApBD,KAAK,EAAC;AAAO;iCAClBC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAqB,I,aAChCC,mBAAA,CAAyC;EAAnCD,KAAK,EAAC;AAAkB,GAAC,KAAG,E;;;mFAvDlC,GAAAC,mBAAA,CA8EM,OA9ENM,UA8EM,GA7ENN,mBAAA,CA4EM,OA5ENO,UA4EM,GA3ENP,mBAAA,CA0EM,OA1ENQ,UA0EM,GAzENR,mBAAA,CAwEM,OAxENS,UAwEM,GAvENT,mBAAA,CAsEM,OAtENU,UAsEM,GArENC,UAAgD,EAE1CC,IAAA,CAAAC,OAAO,gB,cADbC,mBAAA,CASM,OATNC,UASM,EAFL,mDAED,K,mCACAf,mBAAA,CAyDM,OAzDNgB,UAyDM,GAtDAJ,IAAA,CAAAK,OAAO,I,cAFbH,mBAAA,CAgBM,OAhBNI,UAgBM,EAAAC,WAAA,K,mCAENnB,mBAAA,CAoCM,OApCNoB,WAoCM,GAnCNpB,mBAAA,CAkCM,OAlCNqB,WAkCM,GAjCNC,WAEM,E,gBACNtB,mBAAA,CAYE;+DAVOY,IAAA,CAAAW,WAAW,CAACC,QAAQ,GAAAC,MAAA;IAC5BC,OAAO,EAAE,EAAE;IACZC,KAAK,EAAC,UAAU;IACfC,KAAK,EAAEhB,IAAA,CAAAgB,KAAK,CAACJ,QAAQ;IACtBK,SAAS,EAAC,IAAI;IACdC,QAAQ,EAAR,EAAQ;IACRC,IAAI,EAAC,MAAM;IACXhC,KAAK,EAAC,mBAAmB;IACzBiC,WAAW,EAAC,UAAU;IACtB,kBAAgB,EAAC;uDATRpB,IAAA,CAAAW,WAAW,CAACC,QAAQ,E,GAW7BS,WAAyB,EACzBC,WAEM,E,gBACNlC,mBAAA,CAYE;IAXD+B,IAAI,EAAEnB,IAAA,CAAAuB,YAAY;+DACVvB,IAAA,CAAAW,WAAW,CAACa,QAAQ,GAAAX,MAAA;IAC7BE,KAAK,EAAC,UAAU;IACfC,KAAK,EAAEhB,IAAA,CAAAgB,KAAK,CAACQ,QAAQ;IACtBP,SAAS,EAAC,IAAI;IACdC,QAAQ,EAAR,EAAQ;IACP,aAAW,EAAElB,IAAA,CAAAuB,YAAY;IACzB,gBAAY,EAAAE,MAAA,QAAAA,MAAA,MAAAZ,MAAA,IAAEb,IAAA,CAAAuB,YAAY,IAAKvB,IAAA,CAAAuB,YAAY;IAC5CpC,KAAK,EAAC,cAAc;IACpBiC,WAAW,EAAC,UAAU;IACtB,kBAAgB,EAAC;2EATRpB,IAAA,CAAAW,WAAW,CAACa,QAAQ,E,OAa7BpC,mBAAA,CAAiF;IAAzEsC,GAAG,EAAE,MAAM;IAAEC,OAAK,EAAAF,MAAA,QAAAA,MAAA,MAAAG,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;IAAE1C,KAAK,EAAC;KAAkB,OAAK,wB,8BAMlE,O"},"metadata":{},"sourceType":"module","externalDependencies":[]}