{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"nav justify-content-center\"\n};\nconst _hoisted_2 = {\n  class: \"nav-item active\"\n};\nconst _hoisted_3 = {\n  class: \"nav-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"ul\", _hoisted_1, [_createElementVNode(\"li\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Home\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")]), _createElementVNode(\"li\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: {\n      name: 'MovieList'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Movies\")]),\n    _: 1 /* STABLE */\n  })]), !_ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 0,\n    class: \"nav-item\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.login && $options.login(...args))\n  }, [_createTextVNode(\" | \"), _createVNode(_component_router_link, {\n    to: {\n      name: 'Auth'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Log in\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), !_ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 1,\n    class: \"nav-item\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.register && $options.register(...args))\n  }, [_createTextVNode(\" | \"), _createVNode(_component_router_link, {\n    to: {\n      name: 'Register'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Register\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 2,\n    class: \"nav-item .justify-content-end\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.logout && $options.logout(...args))\n  }, [_createTextVNode(\" | \"), _createVNode(_component_router_link, {\n    to: {\n      name: 'Auth'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Logout\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_router_view)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","_hoisted_3","name","_ctx","authenticated","_createElementBlock","onClick","_cache","args","$options","login","register","logout","_component_router_view"],"sources":["C:\\Users\\gabrielconner\\movie-fe\\src\\App.vue"],"sourcesContent":["<template>\n <ul class=\"nav justify-content-center\">\n <li class=\"nav-item active\">\n <router-link to=\"/\">Home</router-link> |\n </li>\n <li class=\"nav-item\">\n <router-link :to=\"{name: 'MovieList'}\">Movies</router-link>\n </li>\n <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"login\" >\n | <router-link :to=\"{name: 'Auth'}\">Log in</router-link>\n </li>\n <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"register\" >\n | <router-link :to=\"{name: 'Register'}\">Register</router-link>\n </li>\n <li class=\"nav-item .justify-content-end\" v-if=\"authenticated\" @click=\"logout\" >\n | <router-link :to=\"{name: 'Auth'}\">Logout</router-link>\n </li>\n</ul>\n <router-view/>\n</template>\n<script>\nimport router from \"./router\";\nimport { APIService } from \"./http/APIService\";\nconst apiService = new APIService();\nexport default {\n name: 'App',\n props: {\n msg: String\n },\n data: () => ({\n authenticated: false,\n dialog: false,\n uName: \"Guest\",\n menu: [],\n }),\n mounted() {\n this.fillMenu();\n apiService\n .getMovieList()\n .then((response) => {\n this.authenticated = true;\n })\n .catch((error) => {\n if (error.response.status === 401) {\n localStorage.removeItem(\"isAuthenticates\");\n localStorage.removeItem(\"log_user\");\n localStorage.removeItem(\"token\");\n this.authenticated = false;\n }\n });\n console.log(\"this.authenticated--\" + this.authenticated);\n },\n methods: {\n fillMenu() {\n if (\n localStorage.getItem(\"isAuthenticates\") &&\n JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true\n ) {\n console.log(\"IS AUTH\");\n this.uName = JSON.parse(localStorage.getItem(\"log_user\"));\n } else {\n console.log(\"IS NOT AUTH\");\n }\n this.menu = [{ title: \"Movies\", url: \"/movie-list\" }];\n },\n getUser() {\n if (\n localStorage.getItem(\"isAuthenticates\") &&\n JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true\n ) {\n console.log(\"IS AUTH\");\n this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n } else {\n console.log(\"IS NOT AUTH\");\n }\n },\n logout() {\n localStorage.removeItem(\"isAuthenticates\");\n localStorage.removeItem(\"log_user\");\n localStorage.removeItem(\"token\");\n this.authenticated = false;\n // router.push('/');\n window.location = \"/\";\n },\n home() {\n window.location = \"/\";\n },\n register() {\n router.push(\"/register\");\n },\n login() {\n router.push(\"/auth\");\n },\n },\n}\n</script>\n<style lang=\"scss\">\n#app {\n font-family: Avenir, Helvetica, Arial, sans-serif;\n -webkit-font-smoothing: antialiased;\n -moz-osx-font-smoothing: grayscale;\n text-align: center;\n color: #2c3e50;\n}\n#nav {\n padding: 30px;\n background-color: cadetblue;\n a {\n font-weight: bold;\n color: #2c3e50;\n &.router-link-exact-active {\n color: #42b983;\n }\n }\n}\n.nav {\n padding: 1em;\n background-color: cadetblue;\n li {\n font-weight: bold;\n color: #2c3e50;\n }\n a {\n color: black;\n padding: .5em;\n &.router-link-exact-active {\n color: #42b983;\n }\n }\n}\n</style>"],"mappings":";;EACKA,KAAK,EAAC;AAA4B;;EAClCA,KAAK,EAAC;AAAiB;;EAGvBA,KAAK,EAAC;AAAU;;;;6DAJpBC,mBAAA,CAgBI,MAhBJC,UAgBI,GAfJD,mBAAA,CAEK,MAFLE,UAEK,GADLC,YAAA,CAAsCC,sBAAA;IAAzBC,EAAE,EAAC;EAAG;sBAAC,MAAI,C,iBAAJ,MAAI,E;;uBAAc,KACtC,E,GACAL,mBAAA,CAEK,MAFLM,UAEK,GADLH,YAAA,CAA2DC,sBAAA;IAA7CC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAmB;sBAAE,MAAM,C,iBAAN,QAAM,E;;SAEjBC,IAAA,CAAAC,aAAa,I,cAAzCC,mBAAA,CAEK;;IAFDX,KAAK,EAAC,UAAU;IAAwBY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;uBAAG,KACzD,GAAAV,YAAA,CAAsDC,sBAAA;IAAxCC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAc;sBAAE,MAAM,C,iBAAN,QAAM,E;;8CAEdC,IAAA,CAAAC,aAAa,I,cAAzCC,mBAAA,CAEK;;IAFDX,KAAK,EAAC,UAAU;IAAwBY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAE,QAAA,IAAAF,QAAA,CAAAE,QAAA,IAAAH,IAAA,CAAQ;uBAAG,KAC5D,GAAAV,YAAA,CAA4DC,sBAAA;IAA9CC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAkB;sBAAE,MAAQ,C,iBAAR,UAAQ,E;;6CAEAC,IAAA,CAAAC,aAAa,I,cAA7DC,mBAAA,CAEK;;IAFDX,KAAK,EAAC,+BAA+B;IAAuBY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAG,MAAA,IAAAH,QAAA,CAAAG,MAAA,IAAAJ,IAAA,CAAM;uBAAG,KAC9E,GAAAV,YAAA,CAAsDC,sBAAA;IAAxCC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAc;sBAAE,MAAM,C,iBAAN,QAAM,E;;+CAG1CJ,YAAA,CAAce,sBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}